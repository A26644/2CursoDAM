DROP TABLE JUGUETE;
CREATE TABLE JUGUETE (
    JUGUETE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    JUGUETE_NOMBRE VARCHAR2(30 CHAR),
    JUGUETE_PRECIO NUMBER(4, 2),
    JUGUETE_COSTE NUMBER(4, 2),
    CONSTRAINT PK_JUGUETE PRIMARY KEY (JUGUETE_ID)
);
DROP TABLE EMPRESA;
CREATE TABLE EMPRESA (
    EMPRESA_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    EMPRESA_NOMBRE VARCHAR2(20 CHAR),
    EMPRESA_CIF VARCHAR2(20 CHAR),
    EMPRESA_DIRECCIONPOSTAL VARCHAR2(50 CHAR),
    EMPRESA_DIRECCIONWEB VARCHAR2(100 CHAR),
    EMPRESA_TELEFONO VARCHAR2(20 CHAR),
    CONSTRAINT PK_EMPRESA PRIMARY KEY (EMPRESA_ID)
);
DROP TABLE PARTICULAR;
CREATE TABLE PARTICULAR (
    PARTICULAR_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PARTICULAR_NOMBRE VARCHAR2(20 CHAR),
    PARTICULAR_APELLIDO VARCHAR2(30 CHAR),
    PARTICULAR_TELEFONO VARCHAR2(20 CHAR),
    PARTICULAR_DIRECCION VARCHAR2(15 CHAR),
    PARTICULAR_FIRMA VARCHAR2(100 CHAR),
    CONSTRAINT PK_PARTICULAR PRIMARY KEY (PARTICULAR_ID)
);
DROP TABLE EMPRESAJUGUETE;
CREATE TABLE EMPRESAJUGUETE (
    EMPRESAJUGUETE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    EMPRESAJUGUETE_EMPRESAID NUMBER(5) NOT NULL,
    EMPRESAJUGUETE_JUGUETE NUMBER(5) NOT NULL,
    EMPRESAJUGUETE_CANTIDAD NUMBER(3),
    CONSTRAINT PK_EMPRESAJUGUETE PRIMARY KEY (EMPRESAJUGUETE_ID),
    CONSTRAINT FK_EMPRESAJUGUETE_EMPRESAID FOREIGN KEY (EMPRESAJUGUETE_EMPRESAID) REFERENCES EMPRESA(EMPRESA_ID),
    CONSTRAINT FK_EMPRESAJUGUETE_JUGUETEID FOREIGN KEY (EMPRESAJUGUETE_JUGUETE) REFERENCES JUGUETE(JUGUETE_ID),
    CONSTRAINT UQ_EMPRESAJUGUETE UNIQUE (EMPRESAJUGUETE_EMPRESAID, EMPRESAJUGUETE_JUGUETE)
);
DROP TABLE PARTICULARJUGUETE;
CREATE TABLE PARTICULARJUGUETE (
    PARTICULARJUGUETE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PARTICULARJUGUETE_PARTICULARID NUMBER(5) NOT NULL,
    PARTICULARJUGUETE_JUGUETEID NUMBER(5) NOT NULL,
    PARTICULARJUGUETE_CANTIDAD NUMBER(3),
    CONSTRAINT PK_PARTICULARJUGUETE PRIMARY KEY (PARTICULARJUGUETE_ID),
    CONSTRAINT FK_PARTICULARJUGUETE_PARTICULARID FOREIGN KEY (PARTICULARJUGUETE_PARTICULARID) REFERENCES PARTICULAR(PARTICULAR_ID),
    CONSTRAINT FK_PARTICULARJUGUETE_JUGUETEID FOREIGN KEY (PARTICULARJUGUETE_JUGUETEID) REFERENCES JUGUETE(JUGUETE_ID),
    CONSTRAINT UQ_PARTICULARJUGUETE UNIQUE (
        PARTICULARJUGUETE_PARTICULARID,
        PARTICULARJUGUETE_JUGUETEID
    )
);
DROP TABLE PEDIDOEMPRESA;
CREATE TABLE PEDIDOEMPRESA (
    PEDIDOEMPRESA_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PEDIDOEMPRESA_EMPRESAID NUMBER(5) NOT NULL,
    PEDIDOEMPRESA_FECHA DATE,
    PEDIDOEMPRESA_DIRECCIONENVIO VARCHAR2(50 CHAR),
    CONSTRAINT PK_PEDIDOEMPRESA PRIMARY KEY (PEDIDOEMPRESA_ID),
    CONSTRAINT FK_PEDIDOEMPRESA_EMPRESAID FOREIGN KEY (PEDIDOEMPRESA_EMPRESAID) REFERENCES EMPRESA(EMPRESA_ID)
);
DROP TABLE PEDIDOPARTICULAR;
CREATE TABLE PEDIDOPARTICULAR (
    PEDIDOPARTICULAR_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PEDIDOPARTICULAR_PARTICULARID NUMBER(5) NOT NULL,
    PEDIDOPARTICULAR_FECHA DATE,
    CONSTRAINT PK_PEDIDOPARTICULAR PRIMARY KEY (PEDIDOPARTICULAR_ID),
    CONSTRAINT FK_PEDIDOPARTICULAR_PARTICULARID FOREIGN KEY (PEDIDOPARTICULAR_PARTICULARID) REFERENCES PARTICULAR(PARTICULAR_ID)
);
DROP TABLE PEDIDOEMPRESAJUGUETE;
CREATE TABLE PEDIDOEMPRESAJUGUETE (
    PEDIDOEMPRESAJUGUETE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PEDIDOEMPRESAJUGUETE_PEDIDOEMPRESAID NUMBER(5) NOT NULL,
    PEDIDOEMPRESAJUGUETE_JUGUETEID NUMBER(5) NOT NULL,
    PEDIDOEMPRESAJUGUETE_CANTIDAD NUMBER(3),
    CONSTRAINT PK_PEDIDOEMPRESAJUGUETE PRIMARY KEY (PEDIDOEMPRESAJUGUETE_ID),
    CONSTRAINT FK_PEDIDOEMPRESAJUGUETE_PEDIDOEMPRESAID FOREIGN KEY (PEDIDOEMPRESAJUGUETE_PEDIDOEMPRESAID) REFERENCES PEDIDOEMPRESA(PEDIDOEMPRESA_ID),
    CONSTRAINT FK_PEDIDOEMPRESAJUGUETE_JUGUETEID FOREIGN KEY (PEDIDOEMPRESAJUGUETE_JUGUETEID) REFERENCES JUGUETE(JUGUETE_ID),
    CONSTRAINT UQ_PEDIDOEMPRESAJUGUETE UNIQUE (
        PEDIDOEMPRESAJUGUETE_PEDIDOEMPRESAID,
        PEDIDOEMPRESAJUGUETE_JUGUETEID
    )
);
DROP TABLE PEDIDOEMPRESAPARTICULAR;
CREATE TABLE PEDIDOEMPRESAPARTICULAR (
    PEDIDOEMPRESAPARTICULAR_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PEDIDOEMPRESAPARTICULAR_PEDIDOEMPRESA_ID NUMBER(5) NOT NULL,
    PEDIDOEMPRESAPARTICULAR_PARTICULAR_ID NUMBER(5) NOT NULL,
    PEDIDOEMPRESAPARTICULAR_CANTIDAD NUMBER(3),
    CONSTRAINT PK_PEDIDOEMPRESAPARTICULAR PRIMARY KEY (PEDIDOEMPRESAPARTICULAR_ID),
    CONSTRAINT FK_PEDIDOEMPRESAPARTICULAR_PEDIDOEMPRESAID FOREIGN KEY (PEDIDOEMPRESAPARTICULAR_PEDIDOEMPRESA_ID) REFERENCES PEDIDOEMPRESA(PEDIDOEMPRESA_ID),
    CONSTRAINT FK_PEDIDOEMPRESAPARTICULAR_PARTICULARID FOREIGN KEY (PEDIDOEMPRESAPARTICULAR_PARTICULAR_ID) REFERENCES PARTICULAR(PARTICULAR_ID),
    CONSTRAINT UQ_PEDIDOEMPRESAPARTICULAR UNIQUE (
        PEDIDOEMPRESAPARTICULAR_PEDIDOEMPRESA_ID,
        PEDIDOEMPRESAPARTICULAR_PARTICULAR_ID
    )
);
DROP TABLE ALBARAN;
CREATE TABLE ALBARAN (
    ALBARAN_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    ALBARAN_PEDIDOID NUMBER(5),
    ALBARAN_FECHA DATE,
    CONSTRAINT PK_ALBARAN PRIMARY KEY (ALBARAN_ID),
    CONSTRAINT FK_ALBARANPEDIDOID FOREIGN KEY (ALBARAN_PEDIDOID) REFERENCES PEDIDOEMPRESA(PEDIDOEMPRESA_ID)
);
DROP TABLE ALBARANJUGUETE;
CREATE TABLE ALBARANJUGUETE (
    ALBARANJUGUETE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    ALBARANJUGUETE_ALBARAN_ID NUMBER(5) NOT NULL,
    ALBARANJUGUETE_JUGUETE_ID NUMBER(5) NOT NULL,
    ALBARANJUGUETE_CANTIDAD NUMBER(3),
    CONSTRAINT PK_ALBARANJUGUETE PRIMARY KEY (ALBARANJUGUETE_ID),
    CONSTRAINT FK_ALBARANJUGUETE_ALBARANID FOREIGN KEY (ALBARANJUGUETE_ALBARAN_ID) REFERENCES ALBARAN(ALBARAN_ID),
    CONSTRAINT FK_ALBARANJUGUETE_JUGUETEID FOREIGN KEY (ALBARANJUGUETE_JUGUETE_ID) REFERENCES JUGUETE(JUGUETE_ID),
    CONSTRAINT UQ_ALBARANJUGUETE UNIQUE (
        ALBARANJUGUETE_ALBARAN_ID,
        ALBARANJUGUETE_JUGUETE_ID
    )
);
DROP TABLE CLIENTE;
CREATE TABLE CLIENTE (
    CLIENTE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    CLIENTE_NOMBRE VARCHAR2(20 CHAR) NOT NULL,
    CLIENTE_APELLIDO VARCHAR2(40 CHAR) NOT NULL,
    CLIENTE_PASS VARCHAR2(20 CHAR) NOT NULL,
    CLIENTE_EMAIL VARCHAR2(50 CHAR) NOT NULL,
    CLIENTE_PHONE VARCHAR2(12 CHAR),
    CONSTRAINT PK_CLIENTE PRIMARY KEY (CLIENTE_ID)
);
DROP TABLE DIRECCIONENVIO;
CREATE TABLE DIRECCIONENVIO (
    DIRECCIONENVIO_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    DIRECCIONENVIO_CLIENTEID NUMBER(5) NOT NULL,
    DIRECCIONENVIO_NOMBRE VARCHAR2(50 CHAR) NOT NULL,
    CONSTRAINT PK_DIRECCIONENVIO PRIMARY KEY (DIRECCIONENVIO_ID),
    CONSTRAINT FK_DIRECCIONENVIO FOREIGN KEY (DIRECCIONENVIO_CLIENTEID) REFERENCES CLIENTE(CLIENTE_ID)
);
DROP TABLE DIRECCIONFACTURACION;
CREATE TABLE DIRECCIONFACTURACION (
    DIRECCIONFACTURACION_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    DIRECCIONFACTURACION_CLIENTEID NUMBER(5) NOT NULL,
    DIRECCIONFACTURACION_NOMBRE VARCHAR2(50 CHAR) NOT NULL,
    CONSTRAINT PK_DIRECCIONFACTURACION PRIMARY KEY (DIRECCIONFACTURACION_ID),
    CONSTRAINT FK_DIRECCIONFACTURACION FOREIGN KEY (DIRECCIONFACTURACION_CLIENTEID) REFERENCES CLIENTE(CLIENTE_ID)
);
DROP TABLE PEDIDO_CLIENTE;
CREATE TABLE PEDIDO_CLIENTE (
    PEDIDOCLIENTE_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PEDIDOCLIENTE_CLIENTEID NUMBER(5) NOT NULL,
    CONSTRAINT PK_PEDIDOCLIENTE PRIMARY KEY (PEDIDOCLIENTE_ID)
);
DROP TABLE LINEAPEDIDO;
CREATE TABLE LINEAPEDIDO (
    LINEAPEDIDO_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    LINEAPEDIDO_JUGUETEID NUMBER(5),
    LINEAPEDIDO_PEDIDOID NUMBER(5),
    LINEAPEDIDO_CANTIDAD NUMBER(3),
    LINEAPEDIDO_COSTE NUMBER(5, 2),
    CONSTRAINT PK_LINEAPEDIDO PRIMARY KEY (LINEAPEDIDO_ID),
    CONSTRAINT FK_LINEAPEDIDO_JUGUETEID FOREIGN KEY (LINEAPEDIDO_JUGUETEID) REFERENCES JUGUETE(JUGUETE_ID),
    CONSTRAINT FK_LINEAPEDIDO_PEDIDOID FOREIGN KEY (LINEAPEDIDO_PEDIDOID) REFERENCES PEDIDO_CLIENTE(PEDIDOCLIENTE_ID),
    CONSTRAINT UQ_LINEAPEDIDO UNIQUE (LINEAPEDIDO_JUGUETEID, LINEAPEDIDO_PEDIDOID)
);
DROP TABLE CLIENTEFACTURA;
CREATE TABLE CLIENTEFACTURA (
    CLIENTEFACTURA_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    CLIENTEFACTURA_DIRECCIONFACTURACIONID NUMBER(5),
    CLIENTEFACTURA_FECHA DATE,
    CLIENTEFACTURA_MPAGO NUMBER(3),
    CONSTRAINT PK_CLIENTEFACTURA PRIMARY KEY (CLIENTEFACTURA_ID),
    CONSTRAINT FK_CLIENTEFACTURA FOREIGN KEY (CLIENTEFACTURA_DIRECCIONFACTURACIONID) REFERENCES DIRECCIONFACTURACION(DIRECCIONFACTURACION_ID)
);
DROP TABLE CLIENTEALBARAN;
CREATE TABLE CLIENTELABARAN (
    CLIENTEALBARAN_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    CLIENTEALBARAN_DIRECCIONENVIO_ID NUMBER(5),
    CLIENTALBARAN_PEDIDOCLIENTEID NUMBER(5) NOT NULL,
    CLIENTEALBARAN_CLIENTEFACTURAID NUMBER(5),
    CLIENTEALBARAN_ACEPTADO NUMBER(1),
    CLIENTEALBARAN_FECHA DATE,
    CONSTRAINT PK_CLIENTEALBARAN PRIMARY KEY (CLIENTEALBARAN_ID),
    CONSTRAINT FK_CLIENTALBARAN_PEDIDOCLIENTEID FOREIGN KEY (CLIENTALBARAN_PEDIDOCLIENTEID) REFERENCES PEDIDO_CLIENTE(PEDIDOCLIENTE_ID),
    CONSTRAINT FK_CLIENTEALBARAN_CLIENTEFACTURAID FOREIGN KEY (CLIENTEALBARAN_CLIENTEFACTURAID) REFERENCES CLIENTEFACTURA(CLIENTEFACTURA_ID)
);
DROP TABLE LINEAALBARAN;
CREATE TABLE LINEAALBARAN (
    LINEAALBARAN_ID NUMBER(5) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    LINEAALBARAN_JUGUETEID NUMBER(5),
    LINEAALBARAN_ALBARANID NUMBER(5),
    LINEAALBARAN_CANTIDAD NUMBER(3),
    LINEAALBARAN_COSTE NUMBER(5, 2),
    CONSTRAINT PK_LINEAALBARAN PRIMARY KEY (LINEAALBARAN_ID),
    CONSTRAINT FK_LINEAALBARAN_JUGUETEID FOREIGN KEY (LINEAALBARAN_JUGUETEID) REFERENCES JUGUETE(JUGUETE_ID),
    CONSTRAINT FK_LINEAALBARAN_ALBARANID FOREIGN KEY (LINEAALBARAN_ALBARANID) REFERENCES CLIENTELABARAN(CLIENTEALBARAN_ID),
    CONSTRAINT UQ_LINEAALBARAN UNIQUE (LINEAALBARAN_JUGUETEID, LINEAALBARAN_ALBARANID)
);
DROP TABLE TICKET;
CREATE TABLE TICKET (
    TICKET_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    TICKET_DEVOLUCION DATE,
    CONSTRAINT PK_TICKET PRIMARY KEY (TICKET_ID)
);
DROP TABLE PAGOTARJETA;
CREATE TABLE PAGOTARJETA (
    PAGOTARJETA_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    PAGOTARJETA_TICKETID NUMBER,
    PAGOTARJETA_TITULAR VARCHAR2(20),
    PAGOTARJETA_NUMERO VARCHAR2(30),
    CONSTRAINT PK_PAGOTARJETA PRIMARY KEY (PAGOTARJETA_ID),
    CONSTRAINT FK_PAGOTARJETA FOREIGN KEY (PAGOTARJETA_TICKETID) REFERENCES TICKET(TICKET_ID)
);
DROP TABLE LINEATICKET;
CREATE TABLE LINEATICKET (
    LINEATICKET_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    LINEATICKET_JUGUETEID NUMBER,
    LINEATICKET_TICKETID NUMBER,
    LINEATICKET_CANTIDAD NUMBER(3),
    LINEATICKET_PRECIO NUMBER(5, 2),
    CONSTRAINT PK_LINEATICKET PRIMARY KEY (LINEATICKET_ID),
    CONSTRAINT FK_LINEATICKET_JUGUETEID FOREIGN KEY (LINEATICKET_JUGUETEID) REFERENCES JUGUETE(JUGUETE_ID),
    -- Assuming JUGUETE table exists
    CONSTRAINT FK_LINEATICKET_TICKETID FOREIGN KEY (LINEATICKET_TICKETID) REFERENCES TICKET(TICKET_ID),
    CONSTRAINT UQ_LINEATICKET UNIQUE (LINEATICKET_JUGUETEID, LINEATICKET_TICKETID)
);
